(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&"SCRIPT"===n.currentScript.tagName.toUpperCase()&&(e=n.currentScript.src),!e)){var r=n.getElementsByTagName("script");if(r.length)for(var i=r.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=r[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();const e=t.p+"img/goblin.png";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o(r.key),r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t){var e=function(t){if("object"!=n(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==n(e)?e:e+""}var l=i(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=document.createElement("img"),this.element.src=e,this.element.alt="goblin",this.element.classList.add("goblin")});function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function a(t){var e=function(t){if("object"!=c(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==c(e)?e:e+""}t.p,new(function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.cells=[],this.goblin=new l,this.index=null,this.missed=0,this.score=0,this.scoreEl=document.getElementById("hits"),this.missedEl=document.getElementById("misses"),this.interval=null},(e=[{key:"updateScore",value:function(){this.scoreEl.textContent="Попадания: ".concat(this.score),this.missedEl.textContent="Промахи: ".concat(this.missed)}},{key:"drawField",value:function(){for(var t=this,e=function(e){var n=document.createElement("div");n.classList.add("cell"),t.cells.push(n),t.container.append(n),n.addEventListener("click",function(){e===t.index&&(t.score++,hitCursor(),t.goblin.element.remove(),t.index=null,t.updateScore())})},n=0;n<16;n++)e(n)}},{key:"start",value:function(){var t=this;setTimeout(function(){t.interval=setInterval(function(){return t.moveGoblin()},1e3)},500)}},{key:"moveGoblin",value:function(){if(null!==this.index){if(this.missed++,this.missed>=5)return clearInterval(this.interval),void alert("Игра окончена!");this.updateScore()}var t;do{t=Math.floor(16*Math.random())}while(t===this.index);this.index=t,this.cells[t].append(this.goblin.element)}},{key:"init",value:function(){this.drawField(),this.start(),this.updateScore()}}])&&s(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}())(document.getElementById("game")).init()})();